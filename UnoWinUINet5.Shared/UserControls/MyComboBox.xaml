<UserControl
    x:Class="UnoWinUINet5.UserControls.MyComboBox"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:UnoWinUINet5.UserControls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="300"
    d:DesignWidth="400"
    x:Name="UC" >
    <Grid x:Name="MainGrid" BorderThickness="2" BorderBrush="{StaticResource ApplicationPageBackgroundThemeBrush}"
          Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <TextBlock x:Name="MainTextBox"  VerticalAlignment="Center"
                 Foreground ="{Binding ElementName=UC, Path=MainTextBoxForeground}"
                 Padding ="{Binding ElementName=UC,Path=MainTextBoxPadding}"/>
        <Button x:Name="MainButton" Grid.Column="1" Click="ShowPopup" VerticalAlignment="Stretch" BorderThickness="0" BorderBrush="Blue"  CornerRadius="0" Margin="0"
                Content="{Binding ElementName=UC,Path=MainButtonContent}"/>
        <Popup Grid.ColumnSpan="2"   x:Name="StandardPopup" >
            <Border x:Name="PopupBorder"
                    BorderBrush ="{Binding ElementName=UC,Path=PopupBorderBorderBrush}"
                    Background ="{Binding ElementName=UC,Path=PopupBorderBackground}"
                    BorderThickness ="{Binding ElementName=UC,Path=PopupBorderBorderThickness}">
                <ScrollViewer  x:Name="PopupScrolViewer"
                               MaxHeight ="{Binding ElementName=UC,Path=PopupScrollViewerMaxHeight}">
                    <ListView x:Name="PopupListView" 
                              ItemTemplate ="{Binding ElementName=UC,Path=PopupListViewItemTemplate}"
                              ItemsSource ="{Binding ElementName=UC,Path=PopupListViewItemsSource}"/>
                </ScrollViewer>
            </Border>
        </Popup>
    </Grid>
</UserControl>
